var gnd=gnd||{};window.GND_GLOBALS=window.GND_GLOBALS||{},gnd.VERSION="0.4.1.4. alpha",gnd.DEBUG=GND_GLOBALS.IS_DEV||!1,gnd.global=window,gnd.isTypeOf=function(t,e){return typeof t===e},gnd.extend=function(t,e){if(e)for(var n in e)gnd.object.hasOwn(e,n)&&(t[n]=e[n]);return t},gnd.array={},gnd.array.is={},gnd.array.is.array=Array.isArray,gnd.array.is.empty=function(t){return 0==t.length},gnd.array.contains=function(t,e){return-1!=Array.prototype.indexOf.call(t,e)},gnd.array.insert=function(t,e){gnd.array.contains(t,e)||t.push(e)},gnd.object={},gnd.object.hasOwn=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},gnd.object.is={},gnd.object.is.object=function(t){return gnd.isTypeOf(t,"object")},gnd.object.is.domElement=function(t){return t instanceof HTMLElement},gnd.object.is.nodeList=function(t){return"[object NodeList]"===Object.prototype.toString.call(t)},gnd.object.is.htmlCollection=function(t){return"[object HTMLCollection]"===Object.prototype.toString.call(t)},gnd.object.is.htmlList=function(t){return gnd.object.is.nodeList(t)||gnd.object.is.htmlCollection(t)},gnd.object.is.window=function(t){return t===t.window},gnd.object.is.document=function(t){return t===document},gnd.object.is.empty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},gnd.object.get={},gnd.object.get.byPath=function(t,e,n){return gnd.object.handlePath("get",t,e,n)},gnd.object.get.firstProp=function(t){for(var e in t)if(t.hasOwnProperty(e))return t[e]},gnd.object.set={},gnd.object.set.byPath=function(t,e,n,i){return gnd.object.handlePath("set",t,e,n,i)},gnd.object.handlePath=function(t,e,n,i,o){i||"set"!==t||(i=n,n=e,e=window),"get"===t&&(n||(n=e,e=window),o=i),n=n.split(".");for(var s=0,r=n.length;r>s;s++){if(!e||!gnd.is.object(e))return o;s===r-1&&"set"===t&&(e=e[n[s]]=i),e=e[n[s]]}return gnd.is.undefined(e)?o:e},gnd.string={},gnd.string.makeSafe=function(t){return t?String(t):""},gnd.string.is={},gnd.string.is.string=function(t){return gnd.isTypeOf(t,"string")},gnd.string.is.numeric=function(t){return t-parseFloat(t)>=0},gnd.string.is.empty=function(t){return!(t&&gnd.string.is.string(t))},gnd.string.contains=function(t,e){return t&&e?-1!==String.prototype.indexOf.call(t,e):!1},gnd.string.containsInsensitive=function(t,e){return t&&e?gnd.string.contains(t.toLowerCase(),e.toLowerCase()):!1},gnd.string.compare=function(t,e){return t===e},gnd.string.compareInsensitive=function(t,e){return t&&e?t.toLowerCase()===e.toLowerCase():!1},gnd.cookies={},gnd.cookies.get=function(t){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},gnd.cookies.set=function(t,e,n,i,o,s){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var r="";if(n)switch(n.constructor){case Number:r=1/0===n?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:r="; expires="+n;break;case Date:r="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+r+(o?"; domain="+o:"")+(i?"; path="+i:"")+(s?"; secure":""),!0},gnd.cookies.remove=function(t,e,n){return t&&gnd.cookies.has(t)?(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(e?"; path="+e:""),!0):!1},gnd.cookies.has=function(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},gnd.cookies.keys=function(){for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=0;e<t.length;e++)t[e]=decodeURIComponent(t[e]);return t},gnd.cookies.getAll=function(){for(var t,e,n,i=document.cookie.split(";"),o={},s=0,r=i.length;r>s;s++)t=i[s].split("="),e=decodeURIComponent(t[0].trim()),n=decodeURIComponent(t[1]),o[e]=n;return o},gnd.userAgent={},gnd.userAgent.UA=navigator.userAgent,gnd.userAgent.contains=function(t){return gnd.string.contains(gnd.userAgent.UA,t)},gnd.userAgent.IE=function(){return gnd.userAgent.contains("MSIE")}(),gnd.userAgent.FIREFOX=function(){return gnd.userAgent.contains("Firefox")}(),gnd.userAgent.CHROME=function(){return gnd.userAgent.contains("Chrome")}(),gnd.userAgent.SAFARI=function(){return gnd.userAgent.contains("Safari")&&!gnd.userAgent.CHROME}(),gnd.userAgent.IPHONE=function(){return gnd.userAgent.contains("iPhone")}(),gnd.userAgent.IPAD=function(){return gnd.userAgent.contains("iPad")}(),gnd.userAgent.ANDROID=function(){return gnd.userAgent.contains("Android")}(),gnd.userAgent.IOS=gnd.userAgent.IPHONE||gnd.userAgent.IPAD,gnd.userAgent.WINDOWS_PHONE=function(){return gnd.userAgent.contains("Windows Phone")}(),gnd.userAgent.MOBILE=gnd.userAgent.IOS||gnd.userAgent.WINDOWS_PHONE||gnd.userAgent.ANDROID,gnd.userAgent.WINDOWS=function(){return gnd.userAgent.contains("Windows NT")}(),gnd.userAgent.MAC=function(){return gnd.userAgent.contains("Macintosh")}(),gnd.userAgent.LINUX=function(){return gnd.userAgent.contains("Linux")}(),gnd.userAgent.DESKTOP=!gnd.userAgent.MOBILE,gnd.is={},gnd.is.modernBrowser="querySelector"in document&&"addEventListener"in window&&"localStorage"in window&&"sessionStorage"in window&&"bind"in Function&&("XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest||"XDomainRequest"in window),gnd.is.array=gnd.array.is.array,gnd.is.window=gnd.object.is.window,gnd.is.document=gnd.object.is.document,gnd.is.numeric=gnd.string.is.numeric,gnd.is.object=gnd.object.is.object,gnd.is.string=gnd.string.is.string,gnd.is.domElement=gnd.object.is.domElement,gnd.is.nodeList=gnd.object.is.nodeList,gnd.is.htmlCollection=gnd.object.is.htmlCollection,gnd.is.htmlList=gnd.object.is.htmlList,gnd.is.$=function(t){return t instanceof gnd.$},gnd.is.bool=function(t){return gnd.isTypeOf(t,"boolean")},gnd.is.func=function(t){return gnd.isTypeOf(t,"function")},gnd.is.invalid=function(t){return gnd.is.undefined(t)||null===t||!t},gnd.is.undefined=function(t){return gnd.isTypeOf(t,"undefined")},gnd.is.empty={},gnd.is.empty.array=gnd.array.is.empty,gnd.is.empty.object=gnd.object.is.empty,gnd.is.empty.string=gnd.string.is.empty,gnd.is.browser={},gnd.is.browser.IE=gnd.userAgent.IE,gnd.is.browser.FIREFOX=gnd.userAgent.FIREFOX,gnd.is.browser.CHROME=gnd.userAgent.CHROME,gnd.is.browser.SAFARI=gnd.userAgent.SAFARI,gnd.is.os={},gnd.is.os.WINDOWS=gnd.userAgent.WINDOWS,gnd.is.os.MAC=gnd.userAgent.MAC,gnd.is.os.LINUX=gnd.userAgent.LINUX,gnd.is.os.ANDROID=gnd.userAgent.ANDROID,gnd.is.os.IOS=gnd.userAgent.IOS,gnd.is.os.WP=gnd.userAgent.WINDOWS_PHONE,gnd.is.device={},gnd.is.device.WP=gnd.userAgent.WINDOWS_PHONE,gnd.is.device.DESKTOP=gnd.userAgent.DESKTOP,gnd.is.device.MOBILE=gnd.userAgent.MOBILE,gnd.is.device.ANDROID=gnd.userAgent.ANDROID,gnd.is.device.IPHONE=gnd.userAgent.IPHONE,gnd.is.device.IPAD=gnd.userAgent.IPAD,gnd.log={},gnd.log.log=function(){gnd.DEBUG&&console.log.apply(console,arguments)},gnd.log.info=function(){gnd.DEBUG&&console.info.apply(console,arguments)},gnd.log.warn=function(){gnd.DEBUG&&console.warn.apply(console,arguments)},gnd.log.debug=function(){gnd.DEBUG&&console.debug.apply(console,arguments)},gnd.log.error=function(){gnd.DEBUG&&console.error.apply(console,arguments)},gnd.log.time=function(){gnd.DEBUG&&console.time.apply(console,arguments)},gnd.log.timeEnd=function(){gnd.DEBUG&&console.timeEnd.apply(console,arguments)},gnd.utils={},gnd.utils.extend=gnd.extend,gnd.utils.each=function(t,e){if((gnd.is.object(t)||!gnd.is.empty.array(t))&&gnd.is.func(e)){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}},gnd.utils.merge=function(t,e){return t&&e},gnd.utils.cloneObject=function(t){return gnd.is.empty.object(t)?{}:gnd.utils.extend({},t)},gnd.utils.validateObject=function(t){return gnd.is.empty.object(t)?{}:t},gnd.xhr={},gnd.xhr.URL="/service/api/",gnd.xhr.ajax=function(t,e){if(gnd.is.empty.string(t)){if(gnd.is.object(t)&&(e=t),!gnd.is.empty.string(e.url))return!1;t=e.url}e=e||{};var n,i,o,s=new XMLHttpRequest,r=gnd.is.empty.string(e.method)?"POST":e.method,d=gnd.is.empty.string(e.accept)?"application/json, text/javascript, */*":e.accept,g="boolean"==typeof e.async?e.async:!0,u=gnd.is.empty.string(e.contentType)?"application/x-www-form-urlencoded; charset=UTF-8":e.contentType,c=gnd.is.empty.object(e.data)?{}:e.data,l=gnd.is.empty.object(e.headers)?{}:e.headers,p=gnd.is.empty.string(e.dataString)?"":e.dataString,a=0;s.open(r,t,g),s.setRequestHeader("Accept",d),s.setRequestHeader("Content-Type",u),s.setRequestHeader("X-Requested-With","XMLHttpRequest");for(n in l)l.hasOwnProperty(n)&&s.setRequestHeader(n,l[n]);return i=function(){(4===s.readyState||g===!1)&&(o=s.responseText,200!=s.status?(gnd.log.error("XHR Error: Begin"),gnd.log.error("Response: ",o),gnd.log.error("status",s.status),gnd.log.error("XHR Error: End"),gnd.is.func(e.error)&&e.error(o)):(gnd.log.info("XHR Success: Begin"),gnd.log.info(o),gnd.log.info("XHR Success: End"),gnd.is.func(e.success)&&e.success(o)),gnd.is.func(e.complete)&&e.complete(o))},g===!0&&(s.onreadystatechange=i),gnd.utils.each(c,function(t,e){a>0&&(p+="&"),p+=t+"="+e,a++}),s.send(p),g===!1&&i(),s},gnd.$=function(t,e){return new gnd.$.Init(t,e)},gnd.$.Init=function(t,e){return gnd.is.string(t)&&t?(this.selector=t,e&&(e.elem?(this.elem=e.elem,this.context=e.elem):(this.elem=e,this.context=e)),this.elem=this.getElements(this.elem,t),gnd.is.nodeList(this.elem)&&1===this.elem.length&&(this.elem=this.elem[0]),this):(this.elem=t||this.elem,this)},gnd.$.prototype.constructor=gnd.$,gnd.$.prototype.elem=null,gnd.$.prototype.context=document,gnd.$.prototype.selector="",gnd.$.prototype.SPACE_SPLIT=" ",gnd.$.prototype.getElements=function(t,e){t||(t=document),e=e.trim();var n=gnd.string.contains(e,this.SPACE_SPLIT),i="getElementById",o=e.charAt(0),s="#"===o;return s?(e=e.substr(1),t=document):n||"."!==o?i=n?"querySelectorAll":"getElementsByTagName":(e=e.substr(1),i="getElementsByClassName"),t=t[i](s&&n?e.substr(0,e.indexOf(this.SPACE_SPLIT)):e),s&&n&&(t=this.getElements(t,e.replace(t.id,""))),t},gnd.$.prototype.find=function(t){return gnd.$(this.getElements(this.elem,t))},gnd.$.prototype.parent=function(){return gnd.$(this.get(0).parentNode)},gnd.$.prototype.get=function(t){return this.getLength()>0&&this.elem[t]?this.elem[t]:this.elem},gnd.$.prototype.closest=function(t,e){if(t){var n,i=e?e:this.get(0),o="className",s=!0,r="contains";for(gnd.string.contains(t,"#")?(o="id",t=t.substr(1)):gnd.string.contains(t,".")?t=t.substr(1):(o="tagName",r="compare"),n=i[o],"tagName"===o&&(n=n.toLowerCase());s===!0&&gnd.is.domElement(i);)n=i[o],"tagName"===o&&(n=n.toLowerCase()),s=!gnd.string[r](" "+n+" "," "+t+" "),s&&(i=i.parentNode);if(!s)return gnd.$(i)}return gnd.$("")},gnd.$.prototype.getLength=function(){return this.elem.length||0===this.elem.length?this.elem.length:this.elem?1:0},gnd.$.prototype.handleEvent=function(t,e,n,i){if(!t||!e||!n&&!i)return gnd.log.error("type, eventType, selector or callback was not provided",arguments),this;var o,s,r,d=this.elem,g=0,u=d.length,c=i,l=this;if(gnd.is.func(n)?(i=n,n=null,c=i):gnd.is.empty.string(n)||(c=function(t){t.selectorTarget=l.closest(n,t.target).elem,t.selectorTarget&&(t.selector=t.selectorTarget,i.apply(i,arguments))}),"dispatchEvent"===t?(r=new CustomEvent(e),s=[r]):s=[e,c,!1],d[t])d[t].apply(d,s);else for(;u>g;g++)o=d[g],o&&o[t]&&o[t].apply(o,s);return this},gnd.$.prototype.on=function(t,e,n){return this.handleEvent("addEventListener",t,e,n)},gnd.$.prototype.off=function(t,e,n){return t?this.handleEvent("removeEventListener",t,e,n):(this.elem.parentNode.replaceChild(this.elem.cloneNode(!0),this.elem),this)},gnd.$.prototype.trigger=function(t,e){return this.handleEvent("dispatchEvent",t,e)},gnd.$.prototype.val=function(t){if(t){var e=0,n=this.getLength();if(!this.elem.value){for(;n>e;e++)this.elem[e].value=t;return this}return this.elem.value=t,this}return this.html(t,"value")},gnd.$.prototype.text=function(t){return this.html(t,"text")},gnd.$.prototype.html=function(t,e){if(!t){var n="innerHTML",i=0,o=this.getLength(),s=[];if("text"===e&&(n="textContent"),"value"===e&&(n="value"),!this.elem[n]){for(;o>i;i++)s[i]=this.elem[i][n];return s}return this.elem[n]}return this.handleHTML("html",t)},gnd.$.prototype.append=function(t){return this.handleHTML("append",t)},gnd.$.prototype.prepend=function(t){return this.handleHTML("prepend",t)},gnd.$.prototype.handleHTML=function(t,e){var n,i=this.elem,o=0,s=i.length;if(gnd.is.string(e)&&(n=document.createElement("div"),n.innerHTML=e,e=n.childNodes),gnd.is.domElement(i))this.handlePend(t,e);else for(;s>o;o++)this.handlePend(t,e,i[o]);return this},gnd.$.prototype.handlePend=function(t,e,n){n=n||this.elem;var i,o,s=0;for("html"===t&&this.empty(n),e.length||(e=[e]),i=e.length;i>s;s++)o=e[s].cloneNode(!0),o&&n&&("prepend"===t?n.insertBefore(o,n.firstChild):n.appendChild(o));return this},gnd.$.prototype.empty=function(t){return t=t||this.elem,t.innerHTML="",this},gnd.$.prototype.remove=function(t){t=t||this.elem;var e=0,n=t.length;if(n)for(;n>e;e++)this.remove(t[e]);else t.parentNode.removeChild(t);return this},gnd.$.prototype.handleClass=function(t,e){if(!t||!e)return this;var n,i,o=this.getLength(),s=0,r=0,d=this.elem.classList;if(gnd.string.contains(t,this.SPACE_SPLIT))if(n=t.split(this.SPACE_SPLIT),i=n.length,gnd.is.domElement(this.elem))for(;i>s;s++)d[e](n[s]);else for(;o>r;r++)for(;i>s;s++)this.elem[r].classList[e](n[s]);else if(gnd.is.domElement(this.elem))d[e](t);else for(;o>s;s++)this.elem[s].classList[e](t);return this},gnd.$.prototype.addClass=function(t){return this.handleClass(t,"add")},gnd.$.prototype.removeClass=function(t){return this.handleClass(t,"remove")},gnd.$.prototype.toggleClass=function(t){return this.handleClass(t,"toggle")},gnd.$.prototype.hasClass=function(t){if(!t)return this;var e=this.elem;return gnd.is.domElement(this.elem)||(e=this.get(0)),gnd.string.contains(t,this.SPACE_SPLIT)&&(t=t.split(this.SPACE_SPLIT)[0]),e.classList.contains(t)},gnd.$.prototype.attrGet=function(t){return t?this.get(0).getAttribute(t):!1},gnd.$.prototype.attrSet=function(t,e){if(!t||!e)return this;gnd.is.domElement(this.elem)&&this.elem.setAttribute(t,e);for(var n=0,i=this.getLength();i>n;n++)this.elem[n].setAttribute(t,e);return this},gnd.$.prototype.attrRemove=function(t){if(!t)return this;gnd.is.domElement(this.elem)&&this.elem.removeAttribute(t);for(var e=0,n=this.getLength();n>e;e++)this.elem[e].removeAttribute(t);return this},gnd.$.prototype.dataGet=function(t){return t?this.attrGet("data-"+t):!1},gnd.$.prototype.dataSet=function(t,e){return t&&e?this.attrSet("data-"+t,e):this},gnd.$.prototype.dataRemove=function(t){return t?this.self.attrRemove("data-"+t):this},gnd.$.Init.prototype=gnd.$.prototype,gnd.dom={},gnd.dom.$=GND_GLOBALS["gnd.dom.$"]||gnd.$,gnd.elems=gnd.dom.elems={},gnd.dom.elems.document=gnd.$(document),gnd.dom.elems.window=gnd.$(window),gnd.dom.elems.html=gnd.$("html"),gnd.dom.elems.body=gnd.$("body"),gnd.dom.elems.header=gnd.$("#header"),gnd.dom.elems.main=gnd.$("#main"),gnd.dom.elems.footer=gnd.$("#footer"),gnd.dom.getDocument=function(){return document},gnd.dom.getWindow=function(){return window},gnd.dom.windowWidth=function(){return window.innerWidth},gnd.dom.windowHeight=function(){return window.innerHeight},gnd.dom.scrollTop=function(){return document.body.scrollTop},gnd.dom.documentWidth=function(){return document.documentElement.scrollWidth},gnd.dom.documentHeight=function(){return document.documentElement.scrollHeight},gnd.dom.parseHTML=function(t){var e,n,i=document.implementation.createDocument("http://www.w3.org/1999/xhtml","html",null),o=document.createElementNS("http://www.w3.org/1999/xhtml","body"),s=document.createElement("div"),r=0;for(i.documentElement.appendChild(o),s.innerHTML=t,n=s.childNodes.length;n>r;r++)e=s.childNodes[r].cloneNode(!0),o.appendChild(e);return i},function(t,e){t.scroller=e}(gnd,{}),gnd.ui={},gnd.ui.$=gnd.dom.$,gnd.ui.components={},gnd.ui.Topics={},gnd.ui.Topics.topics={},gnd.ui.Topics._topics={},gnd.ui.Topics.Topic=function(t){var e=t&&this._topics[t],n=this;return e||(e={trigger:n.triggerTopic,subscribe:n.subscribeToTopic,unSubscribe:n.unSubscribeFromTopic,unSubscribeAll:n.unSubscribeAllFromTopic,_callbacks:[],scope:n},gnd.is.empty.string(t)||(this._topics[t]=e)),e},gnd.ui.Topics.subscribeToTopic=function(t,e){if(e||(e=this.scope),!gnd.is.func(e[t]))return!1;for(var n=0,i=this._callbacks.length;i>n;n++)if(this._callbacks[n].callback===t&&this._callbacks[n].scope===e)return!1;return this._callbacks.push({callback:t,scope:e}),this},gnd.ui.Topics.unSubscribeFromTopic=function(t,e){if(!gnd.is.string(t))return!1;var n=0,i=this._callbacks.length;for(e||(e=this.scope);i>n;n++)if(this._callbacks[n].callback===t&&this._callbacks[n].scope===e){this._callbacks.splice(n,1);break}return this},gnd.ui.Topics.triggerTopic=function(){for(var t,e=0,n=this._callbacks.length;n>e;e++)t=this._callbacks[e],t.scope[t.callback].apply(t.scope,arguments);return this},gnd.ui.Topics.unSubscribeAllFromTopic=function(){return this._callbacks=[],this},gnd.ui.Topics.handleTopics=function(t,e){if(gnd.is.empty.object(t))return!1;var n,i,o,s,r=this,d=typeof e===!0?"unsubscribe":"subscribe",g=0;for(o in t)if(t.hasOwnProperty(o))for(n=t[o],s=n.length;s>g;g++)i=n[g],gnd.is.empty.object(i.scope)&&(i.scope=r),r.Topic(o)[d](i.callback,i.scope);return this},gnd.ui.Topics.removeTopics=function(){return this._topics={},this.topics={},this},gnd.ui.Helpers={},gnd.ui.Helpers.__options=[],gnd.ui.Helpers.__setOptions=function(t){if(gnd.is.empty.object(t))return!1;var e,n={};for(e in t)t.hasOwnProperty(e)&&gnd.array.contains(this.__options,e)&&(n[e]=t[e]);return gnd.extend(this,n),this},gnd.ui.baseExtend=gnd.extend(gnd.ui.Topics,gnd.ui.Helpers),gnd.ui.extend=function(t){var e=this,n=function(){return e.apply(this,arguments)};return n.prototype=gnd.utils.extend({},e.prototype),n.prototype=gnd.utils.extend(n.prototype,t),n.__parentPrototype__=e.prototype,n},gnd.ui.Model=function(t,e){this.__setOptions(e),this.__setAttributes.apply(this,arguments),this.init.apply(this,arguments)},gnd.ui.Model.prototype.sID="",gnd.ui.Model.prototype.idAttribute="id",gnd.ui.Model.prototype.attributes={},gnd.ui.Model.prototype.changed={},gnd.ui.Model.prototype._prevAttributes={},gnd.ui.Model.prototype.defaults={},gnd.ui.Model.prototype.__options=["sID","defaults","idAttribute"],gnd.ui.Model.prototype.init=function(){return this},gnd.ui.Model.prototype.toJSON=function(){return gnd.utils.cloneObject(this.attributes)},gnd.ui.Model.prototype.get=function(t){return this.attributes[t]},gnd.ui.Model.prototype.set=function(t,e){return this.attributes[t]=e,this},gnd.ui.Model.prototype.has=function(t){return t&&this.attributes[t]?!0:!1},gnd.ui.Model.prototype.hasChanged=function(t){return t?this.changed[t]?!0:!1:gnd.is.empty.object(this.changed)},gnd.ui.Model.prototype.getChangedAttributes=function(){return gnd.utils.cloneObject(this.changed)},gnd.ui.Model.prototype.getPrevious=function(t){return this._prevAttributes[t]},gnd.ui.Model.prototype.getPreviousAttributes=function(){return gnd.utils.cloneObject(this._prevAttributes)},gnd.ui.Model.prototype.__setAttributes=function(t){return this.defaults=gnd.utils.validateObject(this.defaults),t=gnd.utils.validateObject(t),this.attributes=gnd.utils.extend(this.defaults,t),this},gnd.extend(gnd.ui.Model.prototype,gnd.ui.baseExtend),gnd.ui.Model.extend=function(){return gnd.ui.extend}(),gnd.ui.Collection=function(){this.__setOptions.apply(this,arguments),this.init.apply(this,arguments),this.setViews()},gnd.ui.Collection.prototype.sID="",gnd.ui.Collection.prototype.$views={},gnd.ui.Collection.prototype.Views={},gnd.ui.Collection.prototype.viewOptions={},gnd.ui.Collection.prototype._indexByModel={},gnd.ui.Collection.prototype._indexByCollectionID=[],gnd.ui.Collection.prototype.__options=["Views","sID","$views","View","viewOptions"],gnd.ui.Collection.prototype.View=gnd.ui.View,gnd.ui.Collection.prototype.init=function(){return this},gnd.ui.Collection.prototype.setViews=function(){var t=this.Views,e=this;return gnd.is.empty.object(this.$views)?gnd.is.empty.string(this.$views)||(t=gnd.ui.$(this.$views)):t=this.$views,t?(t.each(function(t,n){e.addView(n)}),this):!1},gnd.ui.Collection.prototype.addView=function(t){if(!t)return!1;if(gnd.is.domElement(t)){t=gnd.ui.$(t);var e=this.viewOptions;e.sID=t[0].id,e.elem=t,t=new this.View(e),t.sID||(t.sID="view"+t.Model.get("id"))}return t=this.Views[t.sID]=t,t.collectionID=this.getLastCollectionID()+1,t.domPosition=t.collectionID+1,this._indexByCollectionID[t.collectionID]=this._indexByModel[t.Model.sID]=t.sID,this},gnd.ui.Collection.prototype.findViewByModel=function(t){return t?this.findViewByModelID(t.sID):!1},gnd.ui.Collection.prototype.findViewByModelID=function(t){return t?(t=this._indexByModel[t],this.findViewByID(t)):!1},gnd.ui.Collection.prototype.findViewByID=function(t){return t?this.Views[t]:!1},gnd.ui.Collection.prototype.getNthView=function(t){return gnd.is.numeric(t)?this.Views[this.getNthViewID(t)]:!1},gnd.ui.Collection.prototype.getLastView=function(){var t=this.getLastViewID();return this.Views[t]},gnd.ui.Collection.prototype.getNthViewID=function(t){return gnd.is.numeric(t)?this._indexByCollectionID[t]:!1},gnd.ui.Collection.prototype.getLastViewID=function(){return this._indexByCollectionID[this.getLastCollectionID()]},gnd.ui.Collection.prototype.getLastCollectionID=function(){return this._indexByCollectionID.length-1},gnd.extend(gnd.ui.Collection.prototype,gnd.ui.baseExtend),gnd.ui.Collection.extend=function(){return gnd.ui.extend}(),gnd.ui.View=function(){this.__setOptions.apply(this,arguments),this.__ensureElement(),this.init.apply(this,arguments),this.handleEvents(this.events)},gnd.ui.View.prototype.sID="",gnd.ui.View.prototype.elem="",gnd.ui.View.prototype.tagName="div",gnd.ui.View.prototype.className="",gnd.ui.View.prototype.template="",gnd.ui.View.prototype.attributes={},gnd.ui.View.prototype.events={},gnd.ui.View.prototype.__options=["Model","Collection","elem","sID","attributes","className","tagName","events"],gnd.ui.View.prototype.EVENT_SPLIT=" ",gnd.ui.View.prototype.Model=gnd.ui.Model,gnd.ui.View.prototype.Collection=gnd.ui.Collection,gnd.ui.View.prototype.init=function(){return this},gnd.ui.View.prototype.$=function(t){return t?this.elem.find(t):this.elem},gnd.ui.View.prototype.render=function(){return this.elem.html(),this},gnd.ui.View.prototype.setElement=function(t,e){return this.elem instanceof gnd.$?(this.undelegateEvents(),this.elem=t):this.elem=gnd.$(t),e!==!1&&this.handleEvents(this.events),this},gnd.ui.View.prototype.remove=function(){return this.undelegateEvents(),this.elem.remove(),this},gnd.ui.View.prototype.handleEvent=function(t,e,n,i){if(!t||!e)return gnd.log.error("event or callback method not specified",t,e),!1;var o=t.split(this.EVENT_SPLIT),s=o[0],r=o[1],d=i===!0?"off":"on",g=this,u=g.elem;if(n&&n[e]||(n=g),gnd.is.string(e)){if(!gnd.is.func(n[e]))return gnd.log.error("callback method is not a function",n[e]),!1;e=n[e].bind(n)}return u[d](s,r,e),g},gnd.ui.View.prototype.triggerEvent=function(t){if(!t)return!1;if(gnd.string.contains(t,this.EVENT_SPLIT)){var e=t.split(this.EVENT_SPLIT),n=e[0],i=e[1];this.$(i).trigger(n)}else this.elem.trigger(t);return this},gnd.ui.View.prototype.handleEvents=function(t,e){if(!t)return gnd.log.error("no events provided",t),!1;for(var n in t)t.hasOwnProperty(n)&&this.handleEvent(n,t[n],e);return this},gnd.ui.View.prototype.undelegateEvents=function(){return this.elem.off(".viewEvents"+this.sID),this},gnd.ui.View.prototype.__ensureElement=function(){this.elem||(this.elem=gnd.$(document)),this.setElement(this.elem,!1)},gnd.extend(gnd.ui.View.prototype,gnd.ui.baseExtend),gnd.ui.View.extend=function(){return gnd.ui.extend}();